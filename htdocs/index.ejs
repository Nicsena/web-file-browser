<!DOCTYPE html>



<noscript>
         <center> <h1>
          Your browser does not support JavaScript! 
           </h1> </center>
            
      </noscript>

  <link rel="icon" type="image/png" href="/favicon.png"/>

<script src="https://code.jquery.com/jquery-3.5.0.js"></script>





  <script>
    
    
     $(document).on('submit', '#browserinput', function(event){
  
    event.preventDefault();
    
    browsetopath();
    
});

  
  function browsetopath() {
  
  const inputpath = document.getElementById("path_input").value;
  
    document.getElementById("fileslist").src = `${document.location.protocol}//${document.location.hostname}/listfiles?path=${inputpath}`; 
    return document.getElementById("current-path").innerHTML = `Current Path: ${inputpath}`
  //document.getElementById("fileslist")
}
  
</script>


<style>
/* styles */
/* called by your view template */

* {
  box-sizing: border-box;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto",
  "Oxygen", "Ubuntu", "Helvetica Neue", Arial, sans-serif, "Apple Color Emoji",
  "Segoe UI Emoji", "Segoe UI Symbol";
  margin: 2em;
  background: #0B0c10;
}

h1, h2, h3, h4, h5 {
  //font-style: italic;
  color: #C5C6C7;
}

.bold {
  font-weight: bold;
}

p {
  max-width: 600px;
  color: #C5C6C7;
}

a {
 color: #f0f0f2;
}

#filebrowser {
  margin-bottom: 25px;
  padding: 15px;
  background-color: #262626;
  display: inline-block;
  width: 100%;
  max-width: 750px;
  max-height: auto;
  border-radius: 3px;
}
  
  #filebrowser.form-group {
  margin-bottom: 25px;
  padding: 15px;
  background-color: #262626;
  display: inline-block;
  width: 100%;
  max-width: 250px;
  border-radius: 3px;
}

input {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto",
  "Oxygen", "Ubuntu", "Helvetica Neue", Arial, sans-serif, "Apple Color Emoji",
  "Segoe UI Emoji", "Segoe UI Symbol";
  background-color: #3D3D3D;
  color: #ffffff;
  display: block;
  margin-bottom: 10px;
  padding: 7px;
  width: 50%;
  border: 0px solid lightgrey;
  border-radius: 10px;
  font-size: 16px;
}
  
input:-webkit-autofill {
    -webkit-text-fill-color: #ffffff !important;
    transition: background-color 5000s ease-in-out 0s;
}

  
  ::placeholder {
  color: #C2C2C2;
  opacity: 1; /* Firefox */
}

/* button {
  font-size: 16px;
  border-radius: 3px;
  background-color: #3B3B3B;
  border: 1px solid grey;
  box-shadow: 2px 2px teal;
  cursor: pointer;
} */
  
  button {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto",
  "Oxygen", "Ubuntu", "Helvetica Neue", Arial, sans-serif, "Apple Color Emoji",
  "Segoe UI Emoji", "Segoe UI Symbol";
  background-color: #3B3B3B;
  border: none;
  color: white;
  padding: 8px 23px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
}

button:hover {
  background-color: #474747;
}

button:active {
  box-shadow: none;
}

li {
  margin-bottom: 5px;
}
  
  header {
  margin-top: 25px;
  padding-top: 15px;
  border-top: 1px solid lightgrey;
  color: #c5c5c6;
}
  

footer {
  margin-top: 50px;
  padding-top: 25px;
  border-top: 1px solid lightgrey;
  color: #c5c5c6;
}

top {
margin-top: 50px;
padding-top: 25px;
  border-top: 1px solid lightgrey;
}

</style>



<html lang="en">
<head>
<title>Express Directory Explorer</title>
<meta name="description" content="ALPHA | Express Directory Explorer allows you to browse the folders that a host has. | Made by Nicsena">

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<%- include('./header')-%>
  
</head>
<body>

  
<main>
<top>
</top>
<center>

  
 <div id="filebrowser" height="auto">
   
<form id = "browserinput" onsubmit="browsetopath()">
<input name="url" type="text" maxlength="100" value="/app/" id="path_input" placeholder="Enter the path of the directory" aria-labelledby="submit-dream" required>

  <button type="submit" id="submit-dream">Browse Path</button>
</form>
  
     <path-header>
    <h3 id = "current-path">Current Path: <%- path %></h3>
  </path-header>
  
<header>

  
<iframe id="fileslist" src="/listfiles?path=/app/" height="auto" width="100%" frameBorder="0" scrolling="no" title="Directory Browser"></iframe>
  
  </header>  
   
   
   
      
  </div>
  
</center>


  
</main>
  
  
  <%- include('./footer')-%>
  
    <script>
    // Selecting the iframe element
    var iframe = document.getElementById("fileslist");
    
    // Adjusting the iframe height onload event
    iframe.onload = function(){
        iframe.style.height = iframe.contentWindow.document.body.scrollHeight + 'px';
    }
    </script>
  
  
  
</html>
